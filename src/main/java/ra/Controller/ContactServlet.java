package ra.Controller;import ra.Model.Entity.Contact;import ra.Model.Entity.ContactEmail;import ra.Model.Service.ContactEmailService;import ra.Model.Service.ContactService;import ra.Model.ServiceImp.ContactEmailServiceImp;import ra.Model.ServiceImp.ContactServiceImp;import javax.servlet.ServletException;import javax.servlet.annotation.WebServlet;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException;import java.util.List;@WebServlet(name = "ContactServlet", value = "/ContactServlet")public class ContactServlet extends HttpServlet {    private ContactService<Contact, String> contactService = new ContactServiceImp();    private ContactEmailService<ContactEmail, String> contactEmailService = new ContactEmailServiceImp();    @Override    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {        String action = request.getParameter("action");        if (action != null && action.equals("Update")) {            Integer id = 1;            Contact contactList = contactService.getById(id);            request.setAttribute("contact", contactList);            request.getRequestDispatcher("View/Admin/Account/contact.jsp").forward(request, response);        } else if (action != null && action.equals("contacEmail")) {              List<ContactEmail> contactEmail = contactEmailService.getAll();            request.setAttribute("contact", contactEmail);            request.getRequestDispatcher("View/Admin/Account/contactEmail.jsp").forward(request, response);        } else {            getAllProduct(request, response);        }    }    public void getAllProduct(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {        List<Contact> contactList = contactService.getAll();        request.setAttribute("contact", contactList);        request.getRequestDispatcher("View/User/contact.jsp").forward(request, response);    }    @Override    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {        String action = request.getParameter("action");        if (action != null && action.equals("Update")) {            Contact c = new Contact();            c.setContactID(Integer.parseInt(request.getParameter("contactID")));            c.setPhoneNumber(Integer.parseInt(request.getParameter("phoneNumber")));            c.setWebsite(request.getParameter("website"));            c.setEmail(request.getParameter("email"));            c.setAddress(request.getParameter("address"));            boolean result = contactService.update(c);            if (result) {                Integer id = 1;                Contact contactList = contactService.getById(id);                String notify = "Cập nhật thành công !";                request.setAttribute("notify", notify);                request.setAttribute("contact", contactList);                request.getRequestDispatcher("View/Admin/Account/contact.jsp").forward(request, response);            } else {                request.getRequestDispatcher("View/Error/error.jsp").forward(request, response);            }        }    }}